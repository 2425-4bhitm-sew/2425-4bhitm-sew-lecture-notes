/*
 jCarousel - v0.3.0-beta.5 - 2013-08-20
 http://sorgalla.com/jcarousel
 Copyright (c) 2013 Jan Sorgalla; Licensed MIT */
(function(f){var b=f.jCarousel={};b.version="0.3.0-beta.5";var h=/^([+\-]=)?(.+)$/;b.parseTarget=function(a){var d=!1,c="object"!==typeof a?h.exec(a):null;c?(a=parseInt(c[2],10)||0,c[1]&&(d=!0,"-\x3d"===c[1]&&(a*=-1))):"object"!==typeof a&&(a=parseInt(a,10)||0);return{target:a,relative:d}};b.detectCarousel=function(a){for(var d;0<a.size();){d=a.filter("[data-jcarousel]");if(0<d.size())return d;d=a.find("[data-jcarousel]");if(0<d.size())return d;a=a.parent()}return null};b.base=function(a){return{version:b.version,
_options:{},_element:null,_carousel:null,_init:f.noop,_create:f.noop,_destroy:f.noop,_reload:f.noop,create:function(){this._element.attr("data-"+a.toLowerCase(),!0).data(a,this);if(!1===this._trigger("create"))return this;this._create();this._trigger("createend");return this},destroy:function(){if(!1===this._trigger("destroy"))return this;this._destroy();this._trigger("destroyend");this._element.removeData(a).removeAttr("data-"+a.toLowerCase());return this},reload:function(a){if(!1===this._trigger("reload"))return this;
a&&this.options(a);this._reload();this._trigger("reloadend");return this},element:function(){return this._element},options:function(a,c){if(0===arguments.length)return f.extend({},this._options);if("string"===typeof a){if("undefined"===typeof c)return"undefined"===typeof this._options[a]?null:this._options[a];this._options[a]=c}else this._options=f.extend({},this._options,a);return this},carousel:function(){this._carousel||(this._carousel=b.detectCarousel(this.options("carousel")||this._element))||
f.error('Could not detect carousel for plugin "'+a+'"');return this._carousel},_trigger:function(d,c,e){var k,b=!1;e=[this].concat(e||[]);(c||this._element).each(function(){k=f.Event((d+"."+a).toLowerCase());f(this).trigger(k,e);k.isDefaultPrevented()&&(b=!0)});return!b}}};b.plugin=function(a,d){var c=f[a]=function(a,c){this._element=f(a);this.options(c);this._init();this.create()};c.fn=c.prototype=f.extend({},b.base(a),d);f.fn[a]=function(e){var d=Array.prototype.slice.call(arguments,1),b=this;"string"===
typeof e?this.each(function(){var c=f(this).data(a);if(!c)return f.error("Cannot call methods on "+a+' prior to initialization; attempted to call method "'+e+'"');if(!f.isFunction(c[e])||"_"===e.charAt(0))return f.error('No such method "'+e+'" for '+a+" instance");var k=c[e].apply(c,d);if(k!==c&&"undefined"!==typeof k)return b=k,!1}):this.each(function(){var d=f(this).data(a);d instanceof c?d.reload(e):new c(this,e)});return b};return c}})(jQuery);
(function(f,b){var h=function(a){return parseFloat(a)||0};f.jCarousel.plugin("jcarousel",{animating:!1,tail:0,inTail:!1,resizeTimer:null,lt:null,vertical:!1,rtl:!1,circular:!1,underflow:!1,_options:{list:function(){return this.element().children().eq(0)},items:function(){return this.list().children()},animation:400,transitions:!1,wrap:null,vertical:null,rtl:null,center:!1},_list:null,_items:null,_target:null,_first:null,_last:null,_visible:null,_fullyvisible:null,_init:function(){var a=this;this.onWindowResize=
function(){a.resizeTimer&&clearTimeout(a.resizeTimer);a.resizeTimer=setTimeout(function(){a.reload()},100)};return this},_create:function(){this._reload();f(b).on("resize.jcarousel",this.onWindowResize)},_destroy:function(){f(b).off("resize.jcarousel",this.onWindowResize)},_reload:function(){this.vertical=this.options("vertical");null==this.vertical&&(this.vertical=this.list().height()>this.list().width());this.rtl=this.options("rtl");null==this.rtl&&(this.rtl=function(a){if("rtl"===(""+a.attr("dir")).toLowerCase())return!0;
var c=!1;a.parents("[dir]").each(function(){if(/rtl/i.test(f(this).attr("dir")))return c=!0,!1});return c}(this._element));this.lt=this.vertical?"top":"left";this._items=this._list=null;var a=this._target&&0<=this.index(this._target)?this._target:this.closest();this.circular="circular"===this.options("wrap");this.underflow=!1;var d={left:0,top:0};0<a.size()&&(this._prepare(a),this.list().find("[data-jcarousel-clone]").remove(),this._items=null,this.underflow=this._fullyvisible.size()>=this.items().size(),
this.circular=this.circular&&!this.underflow,d[this.lt]=this._position(a)+"px");this.move(d);return this},list:function(){if(null===this._list){var a=this.options("list");this._list=f.isFunction(a)?a.call(this):this._element.find(a)}return this._list},items:function(){if(null===this._items){var a=this.options("items");this._items=(f.isFunction(a)?a.call(this):this.list().find(a)).not("[data-jcarousel-clone]")}return this._items},index:function(a){return this.items().index(a)},closest:function(){var a=
this,d=this.list().position()[this.lt],c=f(),e=!1,b=this.vertical?"bottom":this.rtl?"left":"right",g;this.rtl&&!this.vertical&&(d=-1*(d+this.list().width()-this.clipping()));this.items().each(function(){c=f(this);if(e)return!1;var k=a.dimension(c);d+=k;if(0<=d)if(g=k-h(c.css("margin-"+b)),0>=Math.abs(d)-k+g/2)e=!0;else return!1});return c},target:function(){return this._target},first:function(){return this._first},last:function(){return this._last},visible:function(){return this._visible},fullyvisible:function(){return this._fullyvisible},
hasNext:function(){if(!1===this._trigger("hasnext"))return!0;var a=this.options("wrap"),d=this.items().size()-1;return 0<=d&&(a&&"first"!==a||this.index(this._last)<d||this.tail&&!this.inTail)?!0:!1},hasPrev:function(){if(!1===this._trigger("hasprev"))return!0;var a=this.options("wrap");return 0<this.items().size()&&(a&&"last"!==a||0<this.index(this._first)||this.tail&&this.inTail)?!0:!1},clipping:function(){return this._element["inner"+(this.vertical?"Height":"Width")]()},dimension:function(a){return a["outer"+
(this.vertical?"Height":"Width")](!0)},scroll:function(a,d,c){if(this.animating||!1===this._trigger("scroll",null,[a,d]))return this;f.isFunction(d)&&(c=d,d=!0);var e=f.jCarousel.parseTarget(a);if(e.relative){a=this.items().size()-1;var b=Math.abs(e.target),g=this.options("wrap");if(0<e.target){var p=this.index(this._last);if(p>=a&&this.tail)this.inTail?"both"===g||"last"===g?this._scroll(0,d,c):this._scroll(Math.min(this.index(this._target)+b,a),d,c):this._scrollTail(d,c);else if(e=this.index(this._target),
this.underflow&&e===a&&("circular"===g||"both"===g||"last"===g)||!this.underflow&&p===a&&("both"===g||"last"===g))this._scroll(0,d,c);else if(b=e+b,this.circular&&b>a){g=a;for(a=this.items().get(-1);g++<b;)a=this.items().eq(0),(e=0<=this._visible.index(a))&&a.after(a.clone(!0).attr("data-jcarousel-clone",!0)),this.list().append(a),e||(e={},e[this.lt]=this.dimension(a)*(this.rtl?-1:1),this.moveBy(e)),this._items=null;this._scroll(a,d,c)}else this._scroll(Math.min(b,a),d,c)}else if(this.inTail)this._scroll(Math.max(this.index(this._first)-
b+1,0),d,c);else if(p=this.index(this._first),e=this.index(this._target),e=this.underflow?e:p,b=e-b,0>=e&&(this.underflow&&"circular"===g||"both"===g||"first"===g))this._scroll(a,d,c);else if(this.circular&&0>b){g=b;for(a=this.items().get(0);0>g++;)a=this.items().eq(-1),(e=0<=this._visible.index(a))&&a.after(a.clone(!0).attr("data-jcarousel-clone",!0)),this.list().prepend(a),this._items=null,b=h(this.list().position()[this.lt]),e=this.dimension(a),b=this.rtl&&!this.vertical?b+e:b-e,e={},e[this.lt]=
b+"px",this.move(e);this._scroll(a,d,c)}else this._scroll(Math.max(b,0),d,c)}else this._scroll(e.target,d,c);this._trigger("scrollend");return this},moveBy:function(a,d){var c=this.list().position();a.left&&(a.left=c.left+h(a.left)+"px");a.top&&(a.top=c.top+h(a.top)+"px");return this.move(a,d)},move:function(a,d){d=d||{};var c=this.options("transitions"),e=!!c,b=!!c.transforms,g=!!c.transforms3d,h=d.duration||0,m=this.list();if(!e&&0<h)m.animate(a,d);else{var n=d.complete||f.noop,l={};if(e){var q=
m.css(["transitionDuration","transitionTimingFunction","transitionProperty"]),r=n;n=function(){f(this).css(q);r.call(this)};d=c.easing||d.easing;c=0<h?b||g?"all":a.left?"left":"top":"none";l={transitionDuration:(0<h?h/1E3:0)+"s",transitionTimingFunction:d,transitionProperty:c,transform:"none"}}g?l.transform="translate3d("+(a.left||0)+","+(a.top||0)+",0)":b?l.transform="translate("+(a.left||0)+","+(a.top||0)+")":f.extend(l,a);if(e&&0<h)m.one("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",
n);m.css(l);0>=h&&m.each(function(){n.call(this)})}},_scroll:function(a,d,c){if(this.animating)return f.isFunction(c)&&c.call(this,!1),this;"object"!==typeof a?a=this.items().eq(a):"undefined"===typeof a.jquery&&(a=f(a));if(0===a.size())return f.isFunction(c)&&c.call(this,!1),this;this.inTail=!1;this._prepare(a);a=this._position(a);var e=h(this.list().position()[this.lt]);if(a===e)return f.isFunction(c)&&c.call(this,!1),this;e={};e[this.lt]=a+"px";this._animate(e,d,c);return this},_scrollTail:function(a,
d){if(this.animating||!this.tail)return f.isFunction(d)&&d.call(this,!1),this;var c=this.list().position()[this.lt];c=this.rtl?c+this.tail:c-this.tail;this.inTail=!0;var e={};e[this.lt]=c+"px";this._update({target:this._target.next(),fullyvisible:this._fullyvisible.slice(1).add(this._visible.last())});this._animate(e,a,d);return this},_animate:function(a,d,c){c=c||f.noop;if(!1===this._trigger("animate"))return c.call(this,!1),this;this.animating=!0;var e=this.options("animation"),b=f.proxy(function(){this.animating=
!1;var a=this.list().find("[data-jcarousel-clone]");0<a.size()&&(a.remove(),this._reload());this._trigger("animateend");c.call(this,!0)},this);e="object"===typeof e?f.extend({},e):{duration:e};var g=e.complete||f.noop;!1===d?e.duration=0:"undefined"!==typeof f.fx.speeds[e.duration]&&(e.duration=f.fx.speeds[e.duration]);e.complete=function(){b();g.call(this)};this.move(a,e);return this},_prepare:function(a){var d=this.index(a),c=d,e=this.dimension(a),b=this.clipping(),g=this.vertical?"bottom":this.rtl?
"left":"right",p=this.options("center"),m={target:a,first:a,last:a,visible:a,fullyvisible:e<=b?a:f()},n;p&&(e/=2,b/=2);if(e<b)for(;;){var l=this.items().eq(++c);if(0===l.size()){if(!this.circular)break;l=this.items().eq(0);if(a.get(0)===l.get(0))break;(n=0<=this._visible.index(l))&&l.after(l.clone(!0).attr("data-jcarousel-clone",!0));this.list().append(l);n||(n={},n[this.lt]=this.dimension(l)*(this.rtl?-1:1),this.moveBy(n));this._items=null}e+=this.dimension(l);m.last=l;m.visible=m.visible.add(l);
n=h(l.css("margin-"+g));e-n<=b&&(m.fullyvisible=m.fullyvisible.add(l));if(e>=b)break}if(!this.circular&&!p&&e<b)for(c=d;!(0>--c);){l=this.items().eq(c);if(0===l.size())break;e+=this.dimension(l);m.first=l;m.visible=m.visible.add(l);n=h(l.css("margin-"+g));e-n<=b&&(m.fullyvisible=m.fullyvisible.add(l));if(e>=b)break}this._update(m);this.tail=0;p||"circular"===this.options("wrap")||"custom"===this.options("wrap")||this.index(m.last)!==this.items().size()-1||(e-=h(m.last.css("margin-"+g)),e>b&&(this.tail=
e-b));return this},_position:function(a){var b=this._first,c=b.position()[this.lt],e=this.options("center"),f=e?this.clipping()/2-this.dimension(b)/2:0;this.rtl&&!this.vertical?(c-=this.clipping()-this.dimension(b),c+=f):c-=f;!e&&(this.index(a)>this.index(b)||this.inTail)&&this.tail?(c=this.rtl?c-this.tail:c+this.tail,this.inTail=!0):this.inTail=!1;return-c},_update:function(a){var b=this,c={target:this._target||f(),first:this._first||f(),last:this._last||f(),visible:this._visible||f(),fullyvisible:this._fullyvisible||
f()},e=this.index(a.first||c.first)<this.index(c.first),h,g=function(d){var h=[],g=[];a[d].each(function(){0>c[d].index(this)&&h.push(this)});c[d].each(function(){0>a[d].index(this)&&g.push(this)});e?h=h.reverse():g=g.reverse();b._trigger("item"+d+"in",f(h));b._trigger("item"+d+"out",f(g));b["_"+d]=a[d]};for(h in a)g(h);return this}})})(jQuery,window);
(function(f){f.jcarousel.fn.scrollIntoView=function(b,h,a){b=f.jCarousel.parseTarget(b);var d=this.index(this._fullyvisible.first()),c=this.index(this._fullyvisible.last());b=b.relative?0>b.target?Math.max(0,d+b.target):c+b.target:"object"!==typeof b.target?b.target:this.index(b.target);if(b<d)return this.scroll(b,h,a);if(b>=d&&b<=c)return f.isFunction(a)&&a.call(this,!1),this;var e=this.items();d=this.clipping();var k=this.vertical?"bottom":this.rtl?"left":"right";c=0;for(var g;;){g=e.eq(b);if(0===
g.size())break;c+=this.dimension(g);if(c>=d){e=parseFloat(g.css("margin-"+k))||0;c-e!==d&&b++;break}if(0>=b)break;b--}return this.scroll(b,h,a)}})(jQuery);
(function(f){f.jCarousel.plugin("jcarouselControl",{_options:{target:"+\x3d1",event:"click",method:"scroll"},_active:null,_init:function(){this.onDestroy=f.proxy(function(){this._destroy();this.carousel().one("createend.jcarousel",f.proxy(this._create,this))},this);this.onReload=f.proxy(this._reload,this);this.onEvent=f.proxy(function(b){b.preventDefault();b=this.options("method");f.isFunction(b)?b.call(this):this.carousel().jcarousel(this.options("method"),this.options("target"))},this)},_create:function(){this.carousel().one("destroy.jcarousel",
this.onDestroy).on("reloadend.jcarousel scrollend.jcarousel",this.onReload);this._element.on(this.options("event")+".jcarouselcontrol",this.onEvent);this._reload()},_destroy:function(){this._element.off(".jcarouselcontrol",this.onEvent);this.carousel().off("destroy.jcarousel",this.onDestroy).off("reloadend.jcarousel scrollend.jcarousel",this.onReload)},_reload:function(){var b=f.jCarousel.parseTarget(this.options("target")),h=this.carousel();b.relative?h=h.jcarousel(0<b.target?"hasNext":"hasPrev"):
(b="object"!==typeof b.target?h.jcarousel("items").eq(b.target):b.target,h=0<=h.jcarousel("target").index(b));this._active!==h&&(this._trigger(h?"active":"inactive"),this._active=h);return this}})})(jQuery);
(function(f){f.jCarousel.plugin("jcarouselPagination",{_options:{perPage:null,item:function(b){return'\x3ca href\x3d"#'+b+'"\x3e'+b+"\x3c/a\x3e"},event:"click",method:"scroll"},_pages:{},_items:{},_currentPage:null,_init:function(){this.onDestroy=f.proxy(function(){this._destroy();this.carousel().one("createend.jcarousel",f.proxy(this._create,this))},this);this.onReload=f.proxy(this._reload,this);this.onScroll=f.proxy(this._update,this)},_create:function(){this.carousel().one("destroy.jcarousel",
this.onDestroy).on("reloadend.jcarousel",this.onReload).on("scrollend.jcarousel",this.onScroll);this._reload()},_destroy:function(){this._clear();this.carousel().off("destroy.jcarousel",this.onDestroy).off("reloadend.jcarousel",this.onReload).off("scrollend.jcarousel",this.onScroll)},_reload:function(){var b=this.options("perPage");this._pages={};this._items={};f.isFunction(b)&&(b=b.call(this));if(null==b)this._pages=this._calculatePages();else{b=parseInt(b,10)||0;for(var h=this.carousel().jcarousel("items"),
a=1,d=0,c;;){c=h.eq(d++);if(0===c.size())break;this._pages[a]=this._pages[a]?this._pages[a].add(c):c;0===d%b&&a++}}this._clear();var e=this,k=this.carousel().data("jcarousel"),g=this._element,p=this.options("item");f.each(this._pages,function(a,b){var c=e._items[a]=f(p.call(e,a,b));c.on(e.options("event")+".jcarouselpagination",f.proxy(function(){var c=b.eq(0);if(k.circular){var d=k.index(k.target()),f=k.index(c);parseFloat(a)>parseFloat(e._currentPage)?f<d&&(c="+\x3d"+(k.items().size()-d+f)):f>d&&
(c="-\x3d"+(d+(k.items().size()-f)))}k[this.options("method")](c)},e));g.append(c)});this._update()},_update:function(){var b=this.carousel().jcarousel("target"),h;f.each(this._pages,function(a,d){d.each(function(){if(b.is(this))return h=a,!1});if(h)return!1});this._currentPage!==h&&(this._trigger("inactive",this._items[this._currentPage]),this._trigger("active",this._items[h]));this._currentPage=h},items:function(){return this._items},_clear:function(){this._element.empty();this._currentPage=null},
_calculatePages:function(){for(var b=this.carousel().data("jcarousel"),f=b.items(),a=b.clipping(),d=0,c=0,e=1,k={},g;;){g=f.eq(c++);if(0===g.size())break;k[e]=k[e]?k[e].add(g):g;d+=b.dimension(g);d>=a&&(e++,d=0)}return k}})})(jQuery);
(function(f){f.jCarousel.plugin("jcarouselAutoscroll",{_options:{target:"+\x3d1",interval:3E3,autostart:!0},_timer:null,_init:function(){this.onDestroy=f.proxy(function(){this._destroy();this.carousel().one("createend.jcarousel",f.proxy(this._create,this))},this);this.onAnimateEnd=f.proxy(this.start,this)},_create:function(){this.carousel().one("destroy.jcarousel",this.onDestroy);this.options("autostart")&&this.start()},_destroy:function(){this.stop();this.carousel().off("destroy.jcarousel",this.onDestroy)},
start:function(){this.stop();this.carousel().one("animateend.jcarousel",this.onAnimateEnd);this._timer=setTimeout(f.proxy(function(){this.carousel().jcarousel("scroll",this.options("target"))},this),this.options("interval"));return this},stop:function(){this._timer&&(this._timer=clearTimeout(this._timer));this.carousel().off("animateend.jcarousel",this.onAnimateEnd);return this}})})(jQuery);